{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import DashboardLayout from'./DashboardLayout';import Login from'./pages/Login';import Signin from'./pages/Signin';import AddProject from'./pages/AddProject';import AddMessage from'./pages/AddMessage';import Home from'./pages/Home';import'./App.css';import{useAuth}from'./context/AuthContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function AppWrapper(){const[messages,setMessages]=React.useState(()=>{const saved=localStorage.getItem('messages');return saved?JSON.parse(saved):[];});const[toast,setToast]=React.useState(null);React.useEffect(()=>{localStorage.setItem('messages',JSON.stringify(messages));},[messages]);const showToast=msg=>{setToast(msg);setTimeout(()=>setToast(null),2000);};return/*#__PURE__*/_jsxs(_Fragment,{children:[toast&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:24,left:'50%',transform:'translateX(-50%)',background:'linear-gradient(90deg, #7b61ff 60%, #1976d2 100%)',color:'#fff',padding:'12px 32px',borderRadius:24,fontWeight:600,fontSize:'1.1rem',zIndex:9999,boxShadow:'0 2px 12px rgba(123,97,255,0.13)'},children:toast}),/*#__PURE__*/_jsx(App,{messages:messages,setMessages:setMessages,showToast:showToast})]});}function App(_ref){let{messages,setMessages,showToast}=_ref;const{loading,user}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsx(\"div\",{className:\"global-spinner\",children:\"Loading...\"})});}const AddMessageWrapper=()=>/*#__PURE__*/_jsx(AddMessage,{messages:messages,setMessages:setMessages});return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(DashboardLayout,{messages:messages,setMessages:setMessages,showToast:showToast})}),/*#__PURE__*/_jsx(Route,{path:\"/add-message\",element:/*#__PURE__*/_jsx(AddMessageWrapper,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-project\",element:/*#__PURE__*/_jsx(AddProject,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{showToast:showToast})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(Signin,{showToast:showToast})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})});}export default AppWrapper;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","DashboardLayout","Login","Signin","AddProject","AddMessage","Home","useAuth","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AppWrapper","messages","setMessages","useState","saved","localStorage","getItem","JSON","parse","toast","setToast","useEffect","setItem","stringify","showToast","msg","setTimeout","children","style","position","top","left","transform","background","color","padding","borderRadius","fontWeight","fontSize","zIndex","boxShadow","App","_ref","loading","user","display","justifyContent","alignItems","height","className","AddMessageWrapper","path","element","to","replace"],"sources":["C:/Users/ADMIN/core/project-manage/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport DashboardLayout from './DashboardLayout';\r\nimport Login from './pages/Login';\r\nimport Signin from './pages/Signin';\r\nimport AddProject from './pages/AddProject';\r\nimport AddMessage from './pages/AddMessage';\r\nimport Home from './pages/Home';\r\nimport './App.css';\r\nimport { useAuth } from './context/AuthContext';\r\n\r\nfunction AppWrapper() {\r\n    const [messages, setMessages] = React.useState(() => {\r\n        const saved = localStorage.getItem('messages');\r\n        return saved ? JSON.parse(saved) : [];\r\n    });\r\n    const [toast, setToast] = React.useState(null);\r\n    React.useEffect(() => {\r\n        localStorage.setItem('messages', JSON.stringify(messages));\r\n    }, [messages]);\r\n    const showToast = (msg) => {\r\n        setToast(msg);\r\n        setTimeout(() => setToast(null), 2000);\r\n    };\r\n    return <>\r\n        {toast && (\r\n            <div style={{\r\n                position: 'fixed',\r\n                top: 24,\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                background: 'linear-gradient(90deg, #7b61ff 60%, #1976d2 100%)',\r\n                color: '#fff',\r\n                padding: '12px 32px',\r\n                borderRadius: 24,\r\n                fontWeight: 600,\r\n                fontSize: '1.1rem',\r\n                zIndex: 9999,\r\n                boxShadow: '0 2px 12px rgba(123,97,255,0.13)'\r\n            }}>{toast}</div>\r\n        )}\r\n        <App messages={messages} setMessages={setMessages} showToast={showToast} />\r\n    </>;\r\n}\r\n\r\nfunction App({ messages, setMessages, showToast }) {\r\n    const { loading, user } = useAuth();\r\n    if (loading) {\r\n        return (\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n                <div className=\"global-spinner\">Loading...</div>\r\n            </div>\r\n        );\r\n    }\r\n    const AddMessageWrapper = () => <AddMessage messages={messages} setMessages={setMessages} />;\r\n    return (\r\n        <Router>\r\n            <Routes>\r\n                <Route path=\"/dashboard\" element={<DashboardLayout messages={messages} setMessages={setMessages} showToast={showToast} />} />\r\n                <Route path=\"/add-message\" element={<AddMessageWrapper />} />\r\n                <Route path=\"/add-project\" element={<AddProject />} />\r\n                <Route path=\"/login\" element={<Login showToast={showToast} />} />\r\n                <Route path=\"/signin\" element={<Signin showToast={showToast} />} />\r\n                <Route path=\"/\" element={user ? <Navigate to=\"/dashboard\" replace /> : <Home />} />\r\n                {/* Catch all route */}\r\n                <Route path=\"*\" element={user ? <Navigate to=\"/dashboard\" replace /> : <Navigate to=\"/\" replace />} />\r\n            </Routes>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default AppWrapper; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}