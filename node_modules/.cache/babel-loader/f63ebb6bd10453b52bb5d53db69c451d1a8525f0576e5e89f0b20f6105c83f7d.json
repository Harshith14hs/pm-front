{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/core/project-manage/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=['http://localhost:5005'||'https://pm-back.onrender.com'];const API_URL=\"\".concat(API_BASE_URL,\"/api/projects\");const AddProject=()=>{const[name,setName]=useState('');const[description,setDescription]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleCreate=async e=>{e.preventDefault();if(!name)return;const token=localStorage.getItem('token');if(!token){setError('Please sign in to create a project.');return;}setLoading(true);setError('');try{const res=await fetch(API_URL,{method:'POST',headers:_objectSpread({'Accept':'application/json','Content-Type':'application/json'},token?{'Authorization':\"Bearer \".concat(token)}:{}),body:JSON.stringify({name,description})});if(!res.ok){const errorData=await res.json().catch(()=>({}));throw new Error(errorData.message||\"HTTP error! status: \".concat(res.status));}setName('');setDescription('');navigate('/dashboard');}catch(err){setError(err.message||'Failed to create project. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'#f4f7fb',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:18,boxShadow:'0 4px 32px 0 rgba(25, 118, 210, 0.10)',maxWidth:420,width:'100%',padding:'2.5em 2em 2em 2em',display:'flex',flexDirection:'column',alignItems:'center',position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),style:{position:'absolute',top:18,left:18,background:'none',border:'none',cursor:'pointer',fontSize:'1.7rem',color:'#1976d2',padding:0,zIndex:2},\"aria-label\":\"Back to dashboard\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1976d2',marginBottom:'1.2em',fontWeight:700,fontSize:'2rem',letterSpacing:0.5},children:\"Add New Project\"}),/*#__PURE__*/_jsxs(\"form\",{style:{width:'100%',display:'flex',flexDirection:'column',gap:'1.1em'},onSubmit:handleCreate,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"Project name\",required:true,disabled:loading,style:{padding:'12px 14px',border:'1.5px solid #d0d7de',borderRadius:10,fontSize:'1.08rem',outline:'none',background:'#f8fafc',transition:'border 0.2s'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\",disabled:loading,style:{padding:'12px 14px',border:'1.5px solid #d0d7de',borderRadius:10,fontSize:'1.08rem',outline:'none',background:'#f8fafc',transition:'border 0.2s'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{background:loading?'#b0bec5':'linear-gradient(90deg, #1976d2 80%, #2196f3 100%)',color:'#fff',border:'none',borderRadius:10,padding:'12px 0',fontWeight:700,fontSize:'1.08rem',cursor:loading?'not-allowed':'pointer',boxShadow:'0 2px 8px 0 rgba(25, 118, 210, 0.07)',marginTop:'0.2em',transition:'background 0.2s',letterSpacing:0.5},children:loading?'Adding...':'Add Project'})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#d12a2a',fontSize:'1.05em',marginTop:18,textAlign:'center',fontWeight:500},children:error})]})});};export default AddProject;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","API_URL","concat","AddProject","name","setName","description","setDescription","loading","setLoading","error","setError","navigate","handleCreate","e","preventDefault","token","localStorage","getItem","res","fetch","method","headers","_objectSpread","body","JSON","stringify","ok","errorData","json","catch","Error","message","status","err","style","minHeight","background","display","alignItems","justifyContent","children","borderRadius","boxShadow","maxWidth","width","padding","flexDirection","position","onClick","top","left","border","cursor","fontSize","color","zIndex","marginBottom","fontWeight","letterSpacing","gap","onSubmit","type","value","onChange","target","placeholder","required","disabled","outline","transition","marginTop","textAlign"],"sources":["C:/Users/ADMIN/core/project-manage/frontend/src/pages/AddProject.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst API_BASE_URL =  ['http://localhost:5005'||'https://pm-back.onrender.com'];\n\nconst API_URL = `${API_BASE_URL}/api/projects`;\n\nconst AddProject = () => {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    if (!name) return;\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setError('Please sign in to create a project.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(API_URL, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\n        },\n        body: JSON.stringify({ name, description })\n      });\n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP error! status: ${res.status}`);\n      }\n      setName('');\n      setDescription('');\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message || 'Failed to create project. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ minHeight: '100vh', background: '#f4f7fb', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <div style={{\n        background: '#fff',\n        borderRadius: 18,\n        boxShadow: '0 4px 32px 0 rgba(25, 118, 210, 0.10)',\n        maxWidth: 420,\n        width: '100%',\n        padding: '2.5em 2em 2em 2em',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n      }}>\n        {/* Back Arrow */}\n        <button\n          onClick={() => navigate('/dashboard')}\n          style={{\n            position: 'absolute',\n            top: 18,\n            left: 18,\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            fontSize: '1.7rem',\n            color: '#1976d2',\n            padding: 0,\n            zIndex: 2,\n          }}\n          aria-label=\"Back to dashboard\"\n        >\n          &#8592;\n        </button>\n        <h2 style={{ color: '#1976d2', marginBottom: '1.2em', fontWeight: 700, fontSize: '2rem', letterSpacing: 0.5 }}>Add New Project</h2>\n        <form style={{ width: '100%', display: 'flex', flexDirection: 'column', gap: '1.1em' }} onSubmit={handleCreate}>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={e => setName(e.target.value)}\n            placeholder=\"Project name\"\n            required\n            disabled={loading}\n            style={{\n              padding: '12px 14px',\n              border: '1.5px solid #d0d7de',\n              borderRadius: 10,\n              fontSize: '1.08rem',\n              outline: 'none',\n              background: '#f8fafc',\n              transition: 'border 0.2s',\n            }}\n          />\n          <input\n            type=\"text\"\n            value={description}\n            onChange={e => setDescription(e.target.value)}\n            placeholder=\"Description\"\n            disabled={loading}\n            style={{\n              padding: '12px 14px',\n              border: '1.5px solid #d0d7de',\n              borderRadius: 10,\n              fontSize: '1.08rem',\n              outline: 'none',\n              background: '#f8fafc',\n              transition: 'border 0.2s',\n            }}\n          />\n          <button\n            type=\"submit\"\n            disabled={loading}\n            style={{\n              background: loading ? '#b0bec5' : 'linear-gradient(90deg, #1976d2 80%, #2196f3 100%)',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 10,\n              padding: '12px 0',\n              fontWeight: 700,\n              fontSize: '1.08rem',\n              cursor: loading ? 'not-allowed' : 'pointer',\n              boxShadow: '0 2px 8px 0 rgba(25, 118, 210, 0.07)',\n              marginTop: '0.2em',\n              transition: 'background 0.2s',\n              letterSpacing: 0.5,\n            }}\n          >\n            {loading ? 'Adding...' : 'Add Project'}\n          </button>\n        </form>\n        {error && <div style={{ color: '#d12a2a', fontSize: '1.05em', marginTop: 18, textAlign: 'center', fontWeight: 500 }}>{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default AddProject; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}