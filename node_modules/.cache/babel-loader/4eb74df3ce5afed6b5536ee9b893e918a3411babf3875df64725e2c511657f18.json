{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import'./Sidebar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Sidebar=_ref=>{let{onAddProject,loading=false,error='',name='',setName=()=>{},description='',setDescription=()=>{},handleCreate=()=>{},onMyProjects=()=>{},onShowAllProjects=()=>{},messages=[],setMessages=()=>{}}=_ref;const[activeIdx,setActiveIdx]=useState(0);const items=['Dashboard','Add Project','My Projects','Messages'];const navigate=useNavigate();const{user}=useAuth();const[messageText,setMessageText]=useState('');const[mobileOpen,setMobileOpen]=useState(false);const handleAddMessage=e=>{e.preventDefault();if(!messageText.trim())return;setMessages([...messages,{name:(user===null||user===void 0?void 0:user.username)||'User',avatar:user!==null&&user!==void 0&&user.username?\"https://ui-avatars.com/api/?name=\".concat(encodeURIComponent(user.username),\"&background=1976d2&color=fff&size=64&rounded=true\"):'https://ui-avatars.com/api/?name=User&background=1976d2&color=fff&size=64&rounded=true',text:messageText,date:new Date().toLocaleDateString()}]);setMessageText('');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"sidebar-toggle-btn mobile-only\",\"aria-label\":mobileOpen?'Close sidebar':'Open sidebar',onClick:()=>setMobileOpen(v=>!v),children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:28,lineHeight:1},children:mobileOpen?'✕':'☰'})}),mobileOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-overlay\",onClick:()=>setMobileOpen(false)}),/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\".concat(mobileOpen?' open':''),onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"sidebar-title\",children:\"Infusion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p\",children:\"Manage your tasks...\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"sidebar-nav\",children:/*#__PURE__*/_jsx(\"ul\",{children:items.map((item,idx)=>/*#__PURE__*/_jsx(\"li\",{className:activeIdx===idx?'active':'',onClick:()=>{setActiveIdx(idx);if(item==='Add Project')navigate('/add-project');if(item==='Dashboard'){navigate('/dashboard');if(typeof onShowAllProjects==='function')onShowAllProjects();}if(item==='My Projects'&&typeof onMyProjects==='function')onMyProjects();if(item==='Messages')navigate('/add-message');},children:item},item))})}),activeIdx===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-add-project-section\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.5em 0',color:'#1976d2'},children:\"Add New Project\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"sidebar-add-project-form\",onSubmit:handleCreate,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"Project name\",required:true,disabled:loading}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\",disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"sidebar-add-project-btn\",children:loading?'Adding...':'Add Project'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-add-project-error\",children:error})]})]})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_ref","onAddProject","loading","error","name","setName","description","setDescription","handleCreate","onMyProjects","onShowAllProjects","messages","setMessages","activeIdx","setActiveIdx","items","navigate","user","messageText","setMessageText","mobileOpen","setMobileOpen","handleAddMessage","e","preventDefault","trim","username","avatar","concat","encodeURIComponent","text","date","Date","toLocaleDateString","children","className","onClick","v","style","fontSize","lineHeight","stopPropagation","map","item","idx","margin","color","onSubmit","type","value","onChange","target","placeholder","required","disabled"],"sources":["C:/Users/ADMIN/core/project-manage/frontend/src/components/Sidebar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nimport './Sidebar.css';\r\n\r\nconst Sidebar = ({\r\n  onAddProject,\r\n  loading = false,\r\n  error = '',\r\n  name = '',\r\n  setName = () => {},\r\n  description = '',\r\n  setDescription = () => {},\r\n  handleCreate = () => {},\r\n  onMyProjects = () => {},\r\n  onShowAllProjects = () => {},\r\n  messages = [],\r\n  setMessages = () => {},\r\n}) => {\r\n  const [activeIdx, setActiveIdx] = useState(0);\r\n  const items = ['Dashboard', 'Add Project', 'My Projects', 'Messages'];\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [messageText, setMessageText] = useState('');\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n\r\n  const handleAddMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!messageText.trim()) return;\r\n    setMessages([\r\n      ...messages,\r\n      {\r\n        name: user?.username || 'User',\r\n        avatar: user?.username\r\n          ? `https://ui-avatars.com/api/?name=${encodeURIComponent(user.username)}&background=1976d2&color=fff&size=64&rounded=true`\r\n          : 'https://ui-avatars.com/api/?name=User&background=1976d2&color=fff&size=64&rounded=true',\r\n        text: messageText,\r\n        date: new Date().toLocaleDateString(),\r\n      },\r\n    ]);\r\n    setMessageText('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"sidebar-toggle-btn mobile-only\"\r\n        aria-label={mobileOpen ? 'Close sidebar' : 'Open sidebar'}\r\n        onClick={() => setMobileOpen(v => !v)}\r\n      >\r\n        <span style={{fontSize: 28, lineHeight: 1}}>{mobileOpen ? '✕' : '☰'}</span>\r\n      </button>\r\n      {mobileOpen && <div className=\"sidebar-overlay\" onClick={() => setMobileOpen(false)} />}\r\n      <aside\r\n        className={`sidebar${mobileOpen ? ' open' : ''}`}\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <div className=\"sidebar-header\">\r\n          <p className=\"sidebar-title\">Infusion</p>\r\n          <p className='p'>Manage your tasks...</p>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          <ul>\r\n            {items.map((item, idx) => (\r\n              <li\r\n                key={item}\r\n                className={activeIdx === idx ? 'active' : ''}\r\n                onClick={() => {\r\n                  setActiveIdx(idx);\r\n                  if (item === 'Add Project') navigate('/add-project');\r\n                  if (item === 'Dashboard') {\r\n                    navigate('/dashboard');\r\n                    if (typeof onShowAllProjects === 'function') onShowAllProjects();\r\n                  }\r\n                  if (item === 'My Projects' && typeof onMyProjects === 'function') onMyProjects();\r\n                  if (item === 'Messages') navigate('/add-message');\r\n                }}\r\n              >\r\n                {item}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n        {activeIdx === 1 && (\r\n          <div className=\"sidebar-add-project-section\">\r\n            <h4 style={{margin: '0 0 0.5em 0', color: '#1976d2'}}>Add New Project</h4>\r\n            <form className=\"sidebar-add-project-form\" onSubmit={handleCreate}>\r\n              <input\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n                placeholder=\"Project name\"\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={description}\r\n                onChange={e => setDescription(e.target.value)}\r\n                placeholder=\"Description\"\r\n                disabled={loading}\r\n              />\r\n              <button type=\"submit\" disabled={loading} className=\"sidebar-add-project-btn\">\r\n                {loading ? 'Adding...' : 'Add Project'}\r\n              </button>\r\n            </form>\r\n            {error && <div className=\"sidebar-add-project-error\">{error}</div>}\r\n          </div>\r\n        )}\r\n      </aside>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}