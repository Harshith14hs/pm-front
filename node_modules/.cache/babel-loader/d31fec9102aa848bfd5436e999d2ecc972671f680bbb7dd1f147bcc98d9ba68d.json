{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\core\\\\project-manage\\\\frontend\\\\src\\\\components\\\\ClientMessages.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './ClientMessage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClientMessages = ({\n  messages = [],\n  setMessages\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const inputRef = useRef(null);\n  const handleDelete = idx => {\n    setMessages(prev => prev.filter((_, i) => i !== idx));\n  };\n  useEffect(() => {\n    if (searchOpen && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [searchOpen]);\n  const filteredMessages = search ? messages.filter(msg => msg.name && msg.name.toLowerCase().includes(search.toLowerCase()) || msg.text && msg.text.toLowerCase().includes(search.toLowerCase())) : messages;\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"client-messages\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"client-messages-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"client\",\n        children: \"Client Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"client-messages-search\",\n        onClick: () => setSearchOpen(v => !v),\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        className: `client-messages-searchbar${searchOpen ? ' open' : ''}`,\n        type: \"text\",\n        placeholder: \"Search messages...\",\n        value: search,\n        onChange: e => setSearch(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"client-messages-list\",\n      children: filteredMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-client-messages\",\n        children: \"No messages found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this) : filteredMessages.map((msg, idx) => {\n        const isOwner = user && msg.name === user.username;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"client-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: msg.avatar,\n            alt: msg.name,\n            className: \"client-message-avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"client-message-name\",\n              children: msg.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"client-message-text\",\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-message-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"client-message-date\",\n              children: msg.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), isOwner && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"client-message-delete\",\n              title: \"Delete Message\",\n              onClick: () => handleDelete(idx),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"18\",\n                height: \"18\",\n                viewBox: \"0 0 20 20\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                \"aria-hidden\": \"true\",\n                focusable: \"false\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M7.5 7.5V14.5M10 7.5V14.5M12.5 7.5V14.5M4.5 5.5H15.5M8.5 3.5H11.5C12.0523 3.5 12.5 3.94772 12.5 4.5V5.5H7.5V4.5C7.5 3.94772 7.94772 3.5 8.5 3.5Z\",\n                  stroke: \"#d12a2a\",\n                  strokeWidth: \"1.5\",\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientMessages, \"Nk2bXH5865KUjZZSc0QWiNO5yFg=\", false, function () {\n  return [useAuth];\n});\n_c = ClientMessages;\nexport default ClientMessages;\nvar _c;\n$RefreshReg$(_c, \"ClientMessages\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useAuth","jsxDEV","_jsxDEV","ClientMessages","messages","setMessages","_s","user","searchOpen","setSearchOpen","search","setSearch","inputRef","handleDelete","idx","prev","filter","_","i","current","focus","filteredMessages","msg","name","toLowerCase","includes","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","v","ref","type","placeholder","value","onChange","e","target","length","map","isOwner","username","src","avatar","alt","date","title","width","height","viewBox","fill","xmlns","focusable","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/core/project-manage/frontend/src/components/ClientMessages.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './ClientMessage.css';\r\n\r\nconst ClientMessages = ({ messages = [], setMessages }) => {\r\n  const { user } = useAuth();\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [search, setSearch] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const handleDelete = idx => {\r\n    setMessages(prev => prev.filter((_, i) => i !== idx));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchOpen && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [searchOpen]);\r\n\r\n  const filteredMessages = search\r\n    ? messages.filter(msg =>\r\n        (msg.name && msg.name.toLowerCase().includes(search.toLowerCase())) ||\r\n        (msg.text && msg.text.toLowerCase().includes(search.toLowerCase()))\r\n      )\r\n    : messages;\r\n\r\n  return (\r\n    <aside className=\"client-messages\">\r\n      <div className=\"client-messages-header\">\r\n        <span className='client'>Client Messages</span>\r\n        <span className=\"client-messages-search\" onClick={() => setSearchOpen(v => !v)}>🔍</span>\r\n        <input\r\n          ref={inputRef}\r\n          className={`client-messages-searchbar${searchOpen ? ' open' : ''}`}\r\n          type=\"text\"\r\n          placeholder=\"Search messages...\"\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"client-messages-list\">\r\n        {filteredMessages.length === 0 ? (\r\n          <div className=\"no-client-messages\">No messages found.</div>\r\n        ) : (\r\n          filteredMessages.map((msg, idx) => {\r\n            const isOwner = user && msg.name === user.username;\r\n            return (\r\n              <div className=\"client-message\" key={idx}>\r\n                <img src={msg.avatar} alt={msg.name} className=\"client-message-avatar\" />\r\n                <div className=\"client-message-content\">\r\n                  <div className=\"client-message-name\">{msg.name}</div>\r\n                  <div className=\"client-message-text\">{msg.text}</div>\r\n                </div>\r\n                <div className=\"client-message-meta\">\r\n                  <span className=\"client-message-date\">{msg.date}</span>\r\n                  {isOwner && (\r\n                    <button className=\"client-message-delete\" title=\"Delete Message\" onClick={() => handleDelete(idx)}>\r\n                      <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">\r\n                        <path d=\"M7.5 7.5V14.5M10 7.5V14.5M12.5 7.5V14.5M4.5 5.5H15.5M8.5 3.5H11.5C12.0523 3.5 12.5 3.94772 12.5 4.5V5.5H7.5V4.5C7.5 3.94772 7.94772 3.5 8.5 3.5Z\" stroke=\"#d12a2a\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      </svg>\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default ClientMessages; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}